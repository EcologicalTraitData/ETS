<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Structure of trait data</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlightingOnLoad(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ecological Traitdata Standard</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-file-text-o"></span>
     
    Glossary
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
<li>
  <a href="structure.html">Structure of traitdata</a>
</li>
<li>
  <a href="thesauri.html">Trait Thesauri</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Versions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="versions.html">Version history</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="v0.5/index.html">v0.5</a>
    </li>
    <li>
      <a href="v0.4/index.html">v0.4</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://github.com/EcologicalTraitdata/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Structure of trait data</h1>

</div>


<p>Tidy long-table formats <span class="citation">(Wickham 2014)</span> are the most predictable and compatible format for the core content of trait datasets and should be used for standalone uploads on low-threshold repositories.</p>
<p>Besides the core trait data (value, trait &amp; taxon), harmonized entries should be added as duplicates (see <a href="index.html">‘Glossary’</a>). If data contain multi-layered information on the measurement or occurrence (including geolocation and date information), further columns may be added to the core set of columns (see description of <a href="index.html">Extensions</a>). For reasons of reproducibility and openness, data should not be uploaded in proprietary spreadsheet formats (like ‘.xlsx’) but rather in comma-separated text files (‘.csv’ or ‘.txt’).</p>
<p>There are two possibilities to integrate further information to the core trait data columns:</p>
<ul>
<li><strong>within the same data file</strong>: add further columns to the core dataset using column names as described in the ETS and its extensions, concerning the measurement or the occurrence of the specimen.</li>
<li><strong>in separate data files</strong>: the main file refers to additional data files via unique identifiers, encoding each individual occurrence of a species (<code>occurrenceID</code>), single measurements or reported facts (<code>measurementID</code>), locations of sampling (<code>locationID</code>) and sampling campaigns (<code>eventID</code>). It is recommended to use Darwin Core Archives <span class="citation">(DwC-A, Robertson et al. 2009)</span>.</li>
</ul>
<p>For chosing one or the other, the trade-off is data-consistency and readability <em>vs.</em> avoidance of content duplication:</p>
<p>For standalone dataset publications on a hosting service with only little information content beside the core traitdata columns, the first would be the preferred format, since it facilitates an analysis of cofactors and correlations further down the road. If datasets of different source are merged, the information is readily available without the risk of breaking the reference to an external datasheet. Other cases, where key data columns would be placed in the same table as the core data are traits assessed on a higher level of organisation, e.g. microbial functional traits assessed at the community level taken from a soil sample. Here, location or measurement information are in the primary focus of the investigation (see vocabulary extensions below). A general definition, whether a column describes asset data or is part of the central dataset is ill advised. Therefore, our glossary of terms and its extensions should be used to describe the scientific data according to the study context.</p>
<p>The latter links separate data sheets by identifiers, which has the advantage of tidy datasets and avoids duplication of verbose information <span class="citation">(Wickham 2014)</span>. As a rule of thumb, the columns of the ‘Measurement or Fact’ and ‘Occurrence’ extension would be stored in a separate data sheet. The use of Darwin Core Archives <span class="citation">(<a href="http://eol.org/info/structured_data_archives" class="uri">http://eol.org/info/structured_data_archives</a>, DwC-A; Robertson et al. 2009)</span> is the recommended structure for GBIF <span class="citation">(GBIF 2017, <a href="http://tools.gbif.org/dwca-assistant/" class="uri">http://tools.gbif.org/dwca-assistant/</a>)</span> or EOL TraitBank <span class="citation">(Parr et al. 2016, <a href="http://eol.org/info/cp_archives" class="uri">http://eol.org/info/cp_archives</a>)</span>. These are .zip archives containing data table txt-files along with a descriptive metadata file (in .xml format). Detailled descriptions and tools for validation can be found on the website of EOL (<a href="http://eol.org/info/cp_archives" class="uri">http://eol.org/info/cp_archives</a>) and GBIF (<a href="http://tools.gbif.org/dwca-assistant/" class="uri">http://tools.gbif.org/dwca-assistant/</a>).</p>
<p>The metadata of any dataset that employs this data structure should refer to the respective version of the Ecological Traitdata Standard as “Schneider et al. 2017 Ecological Traitdata Standard v1.0, DOI: XXXX.xxxx, URL: <a href="https://ecologicaltraitdata.github.io/ETS/v1.0/" class="uri">https://ecologicaltraitdata.github.io/ETS/v1.0/</a>”. In addition to the versioned online reference, the dataset should also cite the methods paper “Schneider et al. (in preparation) …” for an explanation of the rationale.</p>
<div id="r-tools" class="section level2">
<h2>R Tools</h2>
<p>The R package ‘traitdataform’ (<a href="https://www.github.com/fdschneider/traitdataform" class="uri">https://www.github.com/fdschneider/traitdataform</a>) provides tools to transfer heterogeneous datasets into a longtable format and to create standardised taxa and trait columns, based on public ontologies. See the package documentation site and vignettes for further information.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-gbif17">
<p>GBIF. 2017. Darwin Core Archives - How-to Guide. <a href="http://eol.org/info/structured_data_archives" class="uri">http://eol.org/info/structured_data_archives</a>.</p>
</div>
<div id="ref-parr16">
<p>Parr, C. S., K. S. Schulz, J. Hammock, N. Wilson, P. Leary, J. Rice, C. Jr, et al. 2016. TraitBank: Practical semantics for organism attribute data. Semantic Web 7:577–588.</p>
</div>
<div id="ref-robertson09">
<p>Robertson, T., M. Döring, J. Wieczorek, R. De Giovanni, and D. Vieglais. 2009. Darwin Core Text Guide. <a href="http://rs.tdwg.org/dwc/terms/guides/text/index.htm" class="uri">http://rs.tdwg.org/dwc/terms/guides/text/index.htm</a>.</p>
</div>
<div id="ref-wickham14">
<p>Wickham, H. 2014. Tidy data. Journal of Statistical Software 59:1–23.</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
